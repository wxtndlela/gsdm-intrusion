!function(){function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return n};var n={},e=Object.prototype,r=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{s({},"")}catch(M){s=function(t,n,e){return t[n]=e}}function l(t,n,e,r){var i=n&&n.prototype instanceof u?n:u,o=Object.create(i.prototype),c=new _(r||[]);return o._invoke=function(t,n,e){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return x()}for(e.method=i,e.arg=o;;){var c=e.delegate;if(c){var a=P(c,e);if(a){if(a===b)continue;return a}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===r)throw r="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r="executing";var s=d(t,n,e);if("normal"===s.type){if(r=e.done?"completed":"suspendedYield",s.arg===b)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(r="completed",e.method="throw",e.arg=s.arg)}}}(t,e,c),o}function d(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(M){return{type:"throw",arg:M}}}n.wrap=l;var b={};function u(){}function h(){}function p(){}var m={};s(m,o,(function(){return this}));var f=Object.getPrototypeOf,v=f&&f(f(k([])));v&&v!==e&&r.call(v,o)&&(m=v);var z=p.prototype=u.prototype=Object.create(m);function g(t){["next","throw","return"].forEach((function(n){s(t,n,(function(t){return this._invoke(n,t)}))}))}function y(t,n){var e;this._invoke=function(i,o){function c(){return new n((function(e,c){!function e(i,o,c,a){var s=d(t[i],t,o);if("throw"!==s.type){var l=s.arg,b=l.value;return b&&"object"==typeof b&&r.call(b,"__await")?n.resolve(b.__await).then((function(t){e("next",t,c,a)}),(function(t){e("throw",t,c,a)})):n.resolve(b).then((function(t){l.value=t,c(l)}),(function(t){return e("throw",t,c,a)}))}a(s.arg)}(i,o,e,c)}))}return e=e?e.then(c,c):c()}}function P(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,P(t,n),"throw"===n.method))return b;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var r=d(e,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function w(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function Q(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function k(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,i=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=p,s(z,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===h||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(z),t},n.awrap=function(t){return{__await:t}},g(y.prototype),s(y.prototype,c,(function(){return this})),n.AsyncIterator=y,n.async=function(t,e,r,i,o){void 0===o&&(o=Promise);var c=new y(l(t,e,r,i),o);return n.isGeneratorFunction(e)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},g(z),s(z,a,"Generator"),s(z,o,(function(){return this})),s(z,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=k,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Q),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(e,r){return c.type="throw",c.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=n,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(c)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),b},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),Q(e),b}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;Q(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:k(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),b}},n}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{tsj7:function(e,i,o){"use strict";o.r(i),o.d(i,"LocationsModule",(function(){return x}));var c=o("ofXK"),a=o("tyNb"),s=o("mrSG"),l=o("41N1"),d=o("3Pt+"),b=o("wd/R"),u=o("fXoL"),h=o("TEn/"),p=o("J4PG"),m=o("6BIP"),f=o("Eep5"),v=o("63R7");function z(t,n){if(1&t){var e=u.Rb();u.Qb(0,"button",27),u.cc("click",(function(){return u.rc(e),u.ec().submit()})),u.zc(1,"Submit"),u.Pb()}}function g(t,n){if(1&t){var e=u.Rb();u.Qb(0,"button",27),u.cc("click",(function(){return u.rc(e),u.ec().updatde()})),u.zc(1,"Update"),u.Pb()}}var y,P=((y=function(){function e(t,r,i,o,c,a){n(this,e),this.modalController=t,this.location_services=r,this.fb=i,this.db=o,this.storage=c,this.loadingCtrl=a,this.isLoading=!0,this.billboardForm=this.fb.group({width:["18.99",d.q.required],height:["4.55",d.q.required],name:["",d.q.required],rate:["0.0",d.q.required]})}return r(e,[{key:"ngOnInit",value:function(){this.data?(this.latitude=Number(this.data.latitude),this.longitude=Number(this.data.longitude),this.surburb=this.data.surburb,this.postalCode=this.data.postalCode,this.city=this.data.city,this.province=this.data.province,this.billboardForm.setValue({width:this.data.screen_width,height:this.data.screen_height,name:this.data.name,rate:this.data.rate}),this.load_map()):(this.latitude=Number(this.location_services.lat.value),this.longitude=Number(this.location_services.lng.value),this.load_map())}},{key:"ngAfterViewInit",value:function(){}},{key:"load_map",value:function(){return Object(s.a)(this,void 0,void 0,t().mark((function n(){var e=this;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.map=new google.maps.Map(document.getElementById("map_canvas_billboard"),{center:{lat:this.latitude,lng:this.longitude},zoom:12,zoomControl:!0,mapTypeControl:!1,fullscreenControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},fullscreenControlOptions:{position:google.maps.ControlPosition.BOTTOM_RIGHT}}),this.map.setMapTypeId("hybrid"),this.add_marker({lat:this.latitude,lng:this.longitude}),this.map.addListener("click",(function(t){var n={lat:t.latLng.lat(),lng:t.latLng.lng()};e.add_marker(n)}));case 1:case"end":return t.stop()}}),n,this)})))}},{key:"add_marker",value:function(t){var n=this;this.latitude=t.lat,this.longitude=t.lng,this.location_services.osm_geocode_latlng(t).subscribe((function(t){console.log(t),n.surburb=t.address.suburb,n.postalCode=t.address.postcode,n.city=t.address.city?t.address.city:t.address.county,n.province=t.address.state;var e="".concat(t.address.road,", ").concat(t.address.house_number);n.billboardForm.get("name").setValue(e)})),this.remove_marker(),this.marker=new google.maps.Marker({position:t,map:this.map,icon:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",strokeColor:"white"}})}},{key:"remove_marker",value:function(){this.marker&&this.marker.setMap(null)}},{key:"dismiss",value:function(){this.modalController.dismiss()}},{key:"submit",value:function(){return Object(s.a)(this,void 0,void 0,t().mark((function n(){var e,r,i,o,c,a,s,l,d,u,h,p,m;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingCtrl.create({message:"please wait ..."});case 2:return e=t.sent,r=this.province,i=this.city,o=this.surburb,c=this.postalCode,a=this.billboardForm.get("name").value,s=Number(this.billboardForm.get("height").value),l=Number(this.billboardForm.get("width").value),d=b().format("DD/MM/yyyy HH:MM:SS"),u=b().format("DD/MM/yyyy HH:MM:SS"),t.next=6,this.storage.pushFileToStorage("billborads",this.file);case 6:return t.next=8,t.sent.getDownloadURL();case 8:return this.photo_url=t.sent,h=s==l?"Square":s>l?"Potrait":s<l?"Landscape":"Other",p=this.billboardForm.get("rate").value,e.present(),console.log(this.photo_url),m={billboard_id:"",postalCode:c,city:i,date_created:d,date_modified:u,latitude:this.latitude,longitude:this.longitude,name:a,photo_url:this.photo_url,province:r,screen_height:s,screen_width:l,user_id:localStorage.getItem("uuid"),surburb:o,orientation:h,rate:p},console.log("billboard",m),t.next=15,this.db.create(m);case 15:e.dismiss(),this.db.getAll(),this.dismiss();case 18:case"end":return t.stop()}}),n,this)})))}},{key:"updatde",value:function(){return Object(s.a)(this,void 0,void 0,t().mark((function n(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),n)})))}},{key:"select_file",value:function(t){var n=this,e=t.target.files[0],r=new FileReader;r.readAsDataURL(e),r.onload=function(){console.log(r.result),n.file=r.result}}}]),e}()).\u0275fac=function(t){return new(t||y)(u.Lb(h.e),u.Lb(p.a),u.Lb(d.b),u.Lb(m.a),u.Lb(f.a),u.Lb(h.d))},y.\u0275cmp=u.Fb({type:y,selectors:[["app-billboard"]],inputs:{title:"title",data:"data"},decls:108,vars:10,consts:[[1,"container-scroller"],[1,"container-fluid","page-body-wrapper",2,"min-height","100%","padding-top","0%"],[1,"main-panel-only","w-100"],[1,"content-wrapper","h-100"],["contentAnimate","",1,"h-100"],[1,"page-header"],[1,"page-title"],[1,"row"],[1,"col-md-6","grid-margin","stretch-card"],["id","map_canvas_billboard",1,"card"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description"],[1,"forms-sample",3,"formGroup"],[1,"form-group"],["for","exampleInputUsername1"],["formControlName","name","type","text","id","exampleInputUsername1","placeholder","Name",1,"form-control"],[1,"col"],["for","exampleInputEmail1"],["formControlName","height","type","number","id","exampleInputEmail1","placeholder","Height",1,"form-control"],["for","exampleInputPassword1"],["formControlName","width","type","number","id","exampleInputPassword1","placeholder","Width",1,"form-control"],["accept","image/*","type","file","id","exampleInputPassword1","placeholder","photo",1,"form-control",3,"change"],["formControlName","rate","type","Number","id","exampleInputPassword1","placeholder","Rate",1,"form-control"],["type","submit","class","btn btn-gradient-info mr-2",3,"click",4,"ngIf"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-gradient-info","mr-2",3,"click"]],template:function(t,n){1&t&&(u.Qb(0,"ion-content",0),u.zc(1,"\n  "),u.Qb(2,"div",1),u.zc(3,"\n    "),u.Qb(4,"div",2),u.zc(5,"\n      "),u.Qb(6,"div",3),u.zc(7,"\n        "),u.Qb(8,"div",4),u.zc(9,"\n          "),u.Qb(10,"div",5),u.zc(11,"\n            "),u.Qb(12,"h3",6),u.zc(13),u.Pb(),u.zc(14,"\n          "),u.Pb(),u.zc(15,"\n          "),u.Qb(16,"div",7),u.zc(17,"\n            "),u.Qb(18,"div",8),u.zc(19,"\n              "),u.Qb(20,"div",9),u.zc(21,"\n\n              "),u.Pb(),u.zc(22,"\n            "),u.Pb(),u.zc(23,"\n            "),u.Qb(24,"div",8),u.zc(25,"\n              "),u.Qb(26,"div",10),u.zc(27,"\n                "),u.Qb(28,"div",11),u.zc(29,"\n                  "),u.Qb(30,"h4",12),u.zc(31,"Location:"),u.Pb(),u.zc(32,"\n                  "),u.Qb(33,"p",13),u.zc(34),u.Mb(35,"br"),u.zc(36),u.Pb(),u.zc(37,"\n                  "),u.Qb(38,"form",14),u.zc(39,"\n                    "),u.Qb(40,"div",15),u.zc(41,"\n                      "),u.Qb(42,"label",16),u.zc(43,"Name"),u.Pb(),u.zc(44,"\n                      "),u.Mb(45,"input",17),u.zc(46,"\n                    "),u.Pb(),u.zc(47,"\n                    "),u.Qb(48,"div",7),u.zc(49,"\n                      "),u.Qb(50,"div",18),u.zc(51,"\n                        "),u.Qb(52,"div",15),u.zc(53,"\n                          "),u.Qb(54,"label",19),u.zc(55,"Height (m)"),u.Pb(),u.zc(56,"\n                          "),u.Mb(57,"input",20),u.zc(58,"\n                        "),u.Pb(),u.zc(59,"\n                      "),u.Pb(),u.zc(60,"\n                      "),u.Qb(61,"div",18),u.zc(62,"\n                        "),u.Qb(63,"div",15),u.zc(64,"\n                          "),u.Qb(65,"label",21),u.zc(66,"Width (m)"),u.Pb(),u.zc(67,"\n                          "),u.Mb(68,"input",22),u.zc(69,"\n                        "),u.Pb(),u.zc(70,"\n                      "),u.Pb(),u.zc(71,"\n                    "),u.Pb(),u.zc(72,"\n\n                    \n                    "),u.Qb(73,"div",15),u.zc(74,"\n                      "),u.Qb(75,"label",21),u.zc(76,"photo"),u.Pb(),u.zc(77,"\n                      "),u.Qb(78,"input",23),u.cc("change",(function(t){return n.select_file(t)})),u.Pb(),u.zc(79,"\n                    "),u.Pb(),u.zc(80,"\n\n                    "),u.Qb(81,"div",15),u.zc(82,"\n                      "),u.Qb(83,"label",21),u.zc(84,"Rate"),u.Pb(),u.zc(85,"\n                      "),u.Mb(86,"input",24),u.zc(87,"\n                    "),u.Pb(),u.zc(88,"\n\n                    "),u.xc(89,z,2,0,"button",25),u.zc(90,"\n                    "),u.xc(91,g,2,0,"button",25),u.zc(92,"\n\n                    "),u.Qb(93,"button",26),u.cc("click",(function(){return n.dismiss()})),u.zc(94,"Cancel"),u.Pb(),u.zc(95,"\n                  "),u.Pb(),u.zc(96,"\n                "),u.Pb(),u.zc(97,"\n              "),u.Pb(),u.zc(98,"\n            "),u.Pb(),u.zc(99,"\n          "),u.Pb(),u.zc(100,"\n        "),u.Pb(),u.zc(101,"\n      "),u.Pb(),u.zc(102,"\n      "),u.zc(103,"\n    "),u.Pb(),u.zc(104,"\n    "),u.zc(105,"\n  "),u.Pb(),u.zc(106,"\n  "),u.zc(107,"\n"),u.Pb()),2&t&&(u.yb(13),u.Bc("\n              ",n.title,"\n            "),u.yb(21),u.Cc("\n                    coordinates :",n.latitude,", ",n.longitude,"\n                    "),u.yb(2),u.Dc("\n                    Address : ",n.province,", ",n.city,", ",n.surburb,", ",n.postalCode,"\n                  "),u.yb(2),u.jc("formGroup",n.billboardForm),u.yb(51),u.jc("ngIf",!n.data),u.yb(2),u.jc("ngIf",n.data))},directives:[h.b,v.a,d.s,d.j,d.d,d.a,d.i,d.c,d.n,c.l],styles:[""]}),y);function w(t,n){if(1&t){var e=u.Rb();u.Qb(0,"div"),u.zc(1,"\n                            "),u.Qb(2,"div",23),u.zc(3,"\n                                "),u.Qb(4,"div",24),u.zc(5,"\n                                    "),u.Mb(6,"i",25),u.zc(7,"\n                                    "),u.Qb(8,"span"),u.zc(9),u.Pb(),u.zc(10,"\n                                "),u.Pb(),u.zc(11,"\n                            "),u.Pb(),u.zc(12,"\n\n\n\n                            "),u.Qb(13,"div",26),u.zc(14,"\n                                "),u.Qb(15,"div",27),u.zc(16,"\n                                    "),u.Mb(17,"img",28),u.zc(18,"\n                                    "),u.Mb(19,"br"),u.zc(20,"\n                                    "),u.Qb(21,"div",2),u.zc(22,"\n                                        "),u.Qb(23,"div",29),u.zc(24,"\n                                            "),u.Qb(25,"div",30),u.zc(26,"\n                                                "),u.Mb(27,"i",31),u.zc(28,"\n                                            "),u.Pb(),u.zc(29,"\n                                        "),u.Pb(),u.zc(30,"\n                                        "),u.Qb(31,"div",29),u.zc(32,"\n                                            "),u.Qb(33,"div",30),u.zc(34,"\n                                                "),u.Mb(35,"i",32),u.zc(36,"\n                                            "),u.Pb(),u.zc(37,"\n                                        "),u.Pb(),u.zc(38,"\n                                        "),u.Qb(39,"div",29),u.zc(40,"\n                                            "),u.Qb(41,"div",30),u.zc(42,"\n                                                "),u.Mb(43,"i",33),u.zc(44,"\n                                            "),u.Pb(),u.zc(45,"\n                                        "),u.Pb(),u.zc(46,"\n\n                                    "),u.Pb(),u.zc(47,"\n                                    "),u.Qb(48,"div",2),u.zc(49,"\n                                        "),u.Qb(50,"div",29),u.zc(51,"\n                                            "),u.Qb(52,"div",30),u.zc(53,"\n                                                "),u.Qb(54,"span",34),u.zc(55,"12345"),u.Pb(),u.zc(56,"\n                                            "),u.Pb(),u.zc(57,"\n                                        "),u.Pb(),u.zc(58,"\n                                        "),u.Qb(59,"div",29),u.zc(60,"\n                                            "),u.Qb(61,"div",30),u.zc(62,"\n                                                "),u.Qb(63,"span",34),u.zc(64,"12345"),u.Pb(),u.zc(65,"\n                                            "),u.Pb(),u.zc(66,"\n                                        "),u.Pb(),u.zc(67,"\n                                        "),u.Qb(68,"div",29),u.zc(69,"\n                                            "),u.Qb(70,"div",30),u.zc(71,"\n                                                "),u.Qb(72,"span",34),u.zc(73,"12345"),u.Pb(),u.zc(74,"\n                                            "),u.Pb(),u.zc(75,"\n                                        "),u.Pb(),u.zc(76,"\n                                    "),u.Pb(),u.zc(77,"\n                                    "),u.Mb(78,"br"),u.zc(79,"\n                                "),u.Pb(),u.zc(80,"\n\n                                "),u.Qb(81,"div",35),u.zc(82,"\n                                    "),u.Qb(83,"div",36),u.zc(84,"\n                                        "),u.Qb(85,"table",37),u.zc(86,"\n                                            "),u.Qb(87,"thead"),u.zc(88,"\n                                                "),u.Qb(89,"tr"),u.zc(90,"\n                                                    "),u.Qb(91,"td"),u.zc(92,"\n                                                        Dimension\n                                                    "),u.Pb(),u.zc(93,"\n                                                    "),u.Qb(94,"td"),u.zc(95),u.Pb(),u.zc(96,"\n                                                "),u.Pb(),u.zc(97,"\n                                            "),u.Pb(),u.zc(98,"\n\n                                            "),u.Qb(99,"tbody"),u.zc(100,"\n\n\n                                                "),u.Qb(101,"tr"),u.zc(102,"\n                                                    "),u.Qb(103,"td"),u.zc(104,"\n                                                        Orientation\n                                                    "),u.Pb(),u.zc(105,"\n                                                    "),u.Qb(106,"td"),u.zc(107),u.Pb(),u.zc(108,"\n                                                "),u.Pb(),u.zc(109,"\n\n                                                "),u.Qb(110,"tr"),u.zc(111,"\n                                                    "),u.Qb(112,"td"),u.zc(113,"\n                                                        LSM\n                                                    "),u.Pb(),u.zc(114,"\n                                                    "),u.Qb(115,"td"),u.zc(116,"\n                                                        6 X 9\n                                                    "),u.Pb(),u.zc(117,"\n                                                "),u.Pb(),u.zc(118,"\n\n\n                                                "),u.Qb(119,"tr"),u.zc(120,"\n                                                    "),u.Qb(121,"td"),u.zc(122,"\n                                                        Rate\n                                                    "),u.Pb(),u.zc(123,"\n                                                    "),u.Qb(124,"td"),u.zc(125),u.Pb(),u.zc(126,"\n                                                "),u.Pb(),u.zc(127,"\n\n                                                "),u.Qb(128,"tr"),u.zc(129,"\n                                                    "),u.Mb(130,"td"),u.zc(131,"\n                                                    "),u.Qb(132,"td"),u.zc(133,"\n                                                    "),u.Pb(),u.zc(134,"\n                                                "),u.Pb(),u.zc(135,"\n\n                                            "),u.Pb(),u.zc(136,"\n\n                                        "),u.Pb(),u.zc(137,"\n                                    "),u.Pb(),u.zc(138,"\n\n                                "),u.Pb(),u.zc(139,"\n                                "),u.Qb(140,"a",38),u.cc("click",(function(){u.rc(e);var t=n.$implicit;return u.ec().edit_billboard(t)})),u.zc(141,"Edit"),u.Pb(),u.zc(142,"\n                                "),u.Mb(143,"br"),u.zc(144,"\n                            "),u.Pb(),u.zc(145,"\n                        "),u.Pb()}if(2&t){var r=n.$implicit;u.yb(9),u.Ac(r.name),u.yb(8),u.kc("src",r.photo_url,u.sc),u.yb(78),u.Cc("\n                                                        ",r.screen_width," X ",r.screen_height,"\n                                                    "),u.yb(12),u.Bc("\n                                                        ",r.orientation,"\n                                                    "),u.yb(18),u.Bc("\n                                                        R",r.rate," (pm)\n                                                    ")}}var Q,_,k=[{path:"",component:(Q=function(){function e(t,r){n(this,e),this.modalController=t,this.db=r,this.Markers=[]}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.load_map(),this.db.Billboards.subscribe((function(n){t.Billboard=n,t.plot_markers()}))}},{key:"load_map",value:function(){return Object(s.a)(this,void 0,void 0,t().mark((function n(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.map=new google.maps.Map(document.getElementById("map_canvas_locations"),{center:{lat:-25.8783085,lng:28.0247615},zoom:9,zoomControl:!0,mapTypeControl:!1,fullscreenControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},fullscreenControlOptions:{position:google.maps.ControlPosition.BOTTOM_RIGHT}}),this.set_map_styles(),this.map.setMapTypeId("DarkMap");case 1:case"end":return t.stop()}}),n,this)})))}},{key:"set_map_styles",value:function(){this.map.mapTypes.set("RetroMap",l.b),this.map.mapTypes.set("DarkMap",l.a),this.map.mapTypes.set("2DMap",l.c)}},{key:"change_style",value:function(t){this.map.setMapTypeId(t)}},{key:"add_billboard",value:function(){return Object(s.a)(this,void 0,void 0,t().mark((function n(){var e;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:P,cssClass:"modal-full",componentProps:{title:"Add Location"}});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),n,this)})))}},{key:"edit_billboard",value:function(n){return Object(s.a)(this,void 0,void 0,t().mark((function e(){var r;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:P,cssClass:"modal-full",componentProps:{title:"Edit Location",data:n}});case 2:return r=t.sent,t.next=5,r.present();case 5:case"end":return t.stop()}}),e,this)})))}},{key:"plot_markers",value:function(){this.clear_map();for(var t=0;t<this.Billboard.length;t++){var n=this.Billboard[t],e={lat:Number(n.latitude),lng:Number(n.longitude)};this.add_marker(e,n.photo_url)}}},{key:"clear_map",value:function(){if(this.Markers&&this.Markers.length>0)for(var t=0;t<this.Markers.length;t++)this.Markers[t].setMap(null)}},{key:"add_marker",value:function(t,n){var e=this,r=new google.maps.Marker({position:t,map:this.map,icon:{url:"http://maps.google.com/mapfiles/ms/icons/red-dot.png",strokeColor:"white"}});r.addListener("click",(function(){e.open_info_windows(n,r)})),this.Markers.push(r)}},{key:"open_info_windows",value:function(t,n){e&&e.close();var e=new google.maps.InfoWindow({content:'\n      <div>\n  <div >\n    <div>\n      <img\n        src="https://www.billboardfinder.co.za/wp-content/uploads/2020/11/William-Nicol-Road-Fourways-Johannesburg4-350x233.jpg"\n        class="mb-2 mw-100 w-100 rounded" alt="image">\n    </div>\n    <div class="table-responsive">\n      <table class="table">\n\n        <tbody>\n          <tr>\n            <td>Location</td>\n            <td>Sunninghil</td>\n          </tr>\n          <tr>\n            <td>Dimensions</td>\n            <td>3 x 6</td>\n          </tr>\n          <tr>\n            <td>Impressions</td>\n            <td>53275533 </td>\n          </tr>\n          <tr>\n            <td>Rate</td>\n            <td>R55 094 pm</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n     '});e.open(this.map,n)}}]),e}(),Q.\u0275fac=function(t){return new(t||Q)(u.Lb(h.e),u.Lb(m.a))},Q.\u0275cmp=u.Fb({type:Q,selectors:[["app-locations"]],decls:117,vars:2,consts:[[1,"page-header"],[1,"page-title"],[1,"row"],[1,"col-md-3","stretch-card","grid-margin"],[1,"card","bg-gradient-dark","card-img-holder","text-white"],[1,"card-body"],[1,"mdi","mdi-file-document","mdi-24px","float-left"],[1,"card-text"],[1,"card","bg-gradient-dark","card-img-holder","text-white",3,"click"],[1,"mdi","mdi-account-plus","mdi-24px","float-left"],[1,"row","grid-margin"],[1,"col-md-6","stretch-card","grid-margin"],[1,"card"],[1,"col-sm-4"],[1,"card-title"],[1,"btn","btn-info","ml-auto",2,"width","100%"],[2,"height","50vh","overflow-y","scroll","overflow-x","hidden"],[4,"ngFor","ngForOf"],[1,"col-4",3,"click"],["src","assets/images/maps/dark-map.png","alt","image",1,"mb-2","mw-100","w-100","rounded",2,"height","50px","object-fit","cover"],["src","assets/images/maps/Satellite-map.png","alt","image",1,"mb-2","mw-100","w-100","rounded",2,"height","50px","object-fit","cover"],["src","assets/images/maps/2D-Map.png","alt","image",1,"mb-2","mw-100","w-100","rounded",2,"height","50px","object-fit","cover"],["id","map_canvas_locations",2,"height","50vh"],[1,"d-flex"],[1,"d-flex","align-items-center","mr-4","text-muted","font-weight-light"],[1,"mdi","mdi","mdi-map-marker","icon-sm","mr-2"],[1,"row","mt-3"],[1,"col-md-6","pr-1"],["alt","image",1,"mb-2","mw-100","w-100","rounded",2,"height","20vh","object-fit","cover",3,"src"],[1,"col-4"],[1,"align-items-center","mr-4","text-muted","font-weight-light",2,"text-align","center"],[1,"mdi","mdi","mdi-motorbike","icon-sm","mr-2"],[1,"mdi","mdi","mdi-car","icon-sm","mr-2"],[1,"mdi","mdi","mdi-truck","icon-sm","mr-2"],[2,"font-size","small"],[1,"col-md-6","pl-1"],[1,"table-responsive",2,"max-height","max-content"],[1,"table"],[1,"btn","btn-gradient-success","ml-auto",2,"width","100%",3,"click"]],template:function(t,n){1&t&&(u.zc(0,"\n"),u.Qb(1,"div",0),u.zc(2,"\n    "),u.Qb(3,"h3",1),u.zc(4,"\n        Locations\n    "),u.Pb(),u.zc(5,"\n"),u.Pb(),u.zc(6,"\n\n"),u.zc(7,"\n"),u.Qb(8,"div",2),u.zc(9,"\n    "),u.Qb(10,"div",3),u.zc(11,"\n        "),u.Qb(12,"div",4),u.zc(13,"\n            "),u.Qb(14,"div",5),u.zc(15,"\n                "),u.Mb(16,"i",6),u.zc(17,"\n            "),u.Pb(),u.zc(18,"\n            "),u.Qb(19,"div",5),u.zc(20,"\n                "),u.Qb(21,"h6",7),u.zc(22,"Add landlord\n                "),u.Pb(),u.zc(23,"\n            "),u.Pb(),u.zc(24,"\n        "),u.Pb(),u.zc(25,"\n    "),u.Pb(),u.zc(26,"\n    "),u.Qb(27,"div",3),u.zc(28,"\n        "),u.Qb(29,"div",8),u.cc("click",(function(){return n.add_billboard()})),u.zc(30,"\n            "),u.Qb(31,"div",5),u.zc(32,"\n                "),u.Mb(33,"i",9),u.zc(34,"\n            "),u.Pb(),u.zc(35,"\n            "),u.Qb(36,"div",5),u.zc(37,"\n                "),u.Qb(38,"h6",7),u.zc(39,"Add location\n                "),u.Pb(),u.zc(40,"\n            "),u.Pb(),u.zc(41,"\n        "),u.Pb(),u.zc(42,"\n    "),u.Pb(),u.zc(43,"\n"),u.Pb(),u.zc(44,"\n\n\n\n"),u.zc(45,"\n"),u.Qb(46,"div",10),u.zc(47,"\n\n    "),u.zc(48,"\n    "),u.Qb(49,"div",11),u.zc(50,"\n\n        "),u.Qb(51,"div",12),u.zc(52,"\n\n            "),u.Qb(53,"div",12),u.zc(54,"\n                "),u.Qb(55,"div",5),u.zc(56,"\n                    "),u.Qb(57,"div",2),u.zc(58,"\n                        "),u.Qb(59,"div",13),u.zc(60,"\n                            "),u.Qb(61,"h4",14),u.zc(62),u.Pb(),u.zc(63,"\n                        "),u.Pb(),u.zc(64,"\n                        "),u.Qb(65,"div",13),u.zc(66,"\n\n                        "),u.Pb(),u.zc(67,"\n                        "),u.Qb(68,"div",13),u.zc(69,"\n                            "),u.Qb(70,"a",15),u.zc(71,"Export"),u.Pb(),u.zc(72,"\n                        "),u.Pb(),u.zc(73,"\n                    "),u.Pb(),u.zc(74,"\n                    "),u.Mb(75,"br"),u.zc(76,"\n                    "),u.Qb(77,"div",16),u.zc(78,"\n                        "),u.xc(79,w,146,6,"div",17),u.zc(80,"\n\n                    "),u.Pb(),u.zc(81,"\n\n\n                "),u.Pb(),u.zc(82,"\n            "),u.Pb(),u.zc(83,"\n\n\n        "),u.Pb(),u.zc(84,"\n    "),u.Pb(),u.zc(85,"\n\n    "),u.zc(86,"\n    "),u.Qb(87,"div",11),u.zc(88,"\n        "),u.Qb(89,"div",12),u.zc(90,"\n            "),u.Qb(91,"div",5),u.zc(92,"\n                "),u.Qb(93,"div",2),u.zc(94,"\n                    "),u.Qb(95,"div",18),u.cc("click",(function(){return n.change_style("DarkMap")})),u.zc(96,"\n                        "),u.Mb(97,"img",19),u.zc(98,"\n                    "),u.Pb(),u.zc(99,"\n                    "),u.Qb(100,"div",18),u.cc("click",(function(){return n.change_style("hybrid")})),u.zc(101,"\n                        "),u.Mb(102,"img",20),u.zc(103,"\n                    "),u.Pb(),u.zc(104,"\n                    "),u.Qb(105,"div",18),u.cc("click",(function(){return n.change_style("2DMap")})),u.zc(106,"\n                        "),u.Mb(107,"img",21),u.zc(108,"\n                    "),u.Pb(),u.zc(109,"\n                "),u.Pb(),u.zc(110,"\n                "),u.Qb(111,"div",22),u.zc(112,"\n                "),u.Pb(),u.zc(113,"\n            "),u.Pb(),u.zc(114,"\n\n        "),u.Pb(),u.zc(115,"\n\n\n\n    "),u.Pb(),u.zc(116,"\n"),u.Pb()),2&t&&(u.yb(62),u.Bc("Locations (",n.Billboard.length,")"),u.yb(17),u.jc("ngForOf",n.Billboard))},directives:[c.k],styles:[""]}),Q)}],x=((_=r((function t(){n(this,t)}))).\u0275mod=u.Jb({type:_}),_.\u0275inj=u.Ib({factory:function(t){return new(t||_)},imports:[[c.c,a.l.forChild(k)]]}),_)}}])}();